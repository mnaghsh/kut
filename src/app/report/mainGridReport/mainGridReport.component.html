<mat-card class="titrCard">
  <h5 class="titr">
    ورود اطلاعات
  </h5>
</mat-card>
<app-loading *ngIf="commonService.loading==true"></app-loading>
<br>
<div class="row ">
  <div class="col-4"></div>
  <div class="col-4 selectTeacher ">
    <button mat-button color="accent" (click)="btnChooseTeacher()">
      <h4>{{this.fullName}}</h4>
    </button>
  </div>

  <div class="col-4"></div>
</div>

<div *ngIf="showCourseValueTable">

  <h5 style="padding-right:1%">ورود اطلاعات برای آیتم های مربوط به درس</h5>
  <button type="submit" mat-raised-button color="primary" matTooltip="ذخیره " class=" btnSave" aria-hidden="true"
    *ngIf="commonService.showSaveBtn==1" mat-raised-button (click)="save(1)"><i class="fa fa-floppy-o" aria-hidden="true"></i> &nbsp;   ذخیره &nbsp;  </button>
  <button mat-raised-button color="primary" matTooltip="ذخیره " class=" btnROllBack" aria-hidden="true"
    *ngIf="commonService.showSaveBtn==1" mat-raised-button (click)="replaceNewData()"><i class="fa fa-refresh fa-spin fa-1x fa-fw"></i> بازنشانی </button>
  <table matSort class="table table-striped table-hover" mat-table dir="rtl" [dataSource]="dataSource">
    <!-- data Column -->
    <ng-container *ngFor="let column of columns" matColumnDef="{{column.columnDef}}">
      <div>
        <th mat-header-cell *matHeaderCellDef mat-sort-header> {{column.label}}</th>
      </div>
      <td mat-cell *matCellDef="let row; let index = index" class="cells">
        <mat-form-field>
          <input required type="number" maxlength="4" *ngIf="column.columnDef!='CourseName'" matInput
            [placeholder]="column.label" (ngModelChange)="commonService.showSaveBtn=1"
            [(ngModel)]="row[column.columnDef]">
          <i *ngIf="column.columnDef=='CourseName'" class="fa fa-pencil-square-o" style="color: #ff4081;"
            (click)="chooseCourse(row)" aria-hidden="true"></i>
          <input required matInput disabled maxlength="4" *ngIf="column.columnDef=='CourseName'"
            (ngModelChange)="commonService.showSaveBtn=1" [(ngModel)]="row.CourseName">
        </mat-form-field>

      </td>
      <td class="footerInput" mat-footer-cell *matFooterCellDef="let row">
        <mat-form-field>
         
            <input required type="number" maxlength="4" *ngIf="column.columnDef!='CourseName'" matInput
              [placeholder]="column.label" [(ngModel)]="newRowObj[column.columnDef]">
        
          <i *ngIf="column.columnDef=='CourseName'" class="fa fa-pencil-square-o" style="color:#ff4081;"
            (click)="chooseCourse(newRowObj)" aria-hidden="true">
             <!-- &nbsp;<span style="color: red;">*</span>&nbsp; -->
            </i>
          <input required matInput maxlength="4" disabled *ngIf="column.columnDef=='CourseName'"
            [(ngModel)]="newRowObj.CourseName">
        </mat-form-field>
      </td>
    </ng-container>
    <!-- icon Column -->
    <ng-container matColumnDef="icon">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
      </th>
      <!-- icon rows -->
      <td mat-cell *matCellDef="let row;let index = index">
        <i class="fa fa-trash deleteRow" (click)="deleteRow(row)" aria-hidden="true"></i>
        <!-- <i class="fa fa-check  editRow " *ngIf="row.changed" (click)="save(1)" aria-hidden="true"></i> -->
        <!-- <i class="fa fa-spinner fa-spin fa-1x fa-fw spinerOfEdit"  *ngIf="row.changed"></i> -->
      </td>
      <!-- icon footer -->
      <td class="footerInput" mat-footer-cell *matFooterCellDef="let row">
        <i class="fa fa-plus addRow" (click)="addRow()" aria-hidden="true"></i>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr class="rows" mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns; "></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[10, 5, 20]" showFirstLastButtons></mat-paginator>

  <app-totalMainGridReport></app-totalMainGridReport>
</div>