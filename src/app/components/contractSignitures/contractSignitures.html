<mat-card class="titrCard">
  <h5 class="titr">
    کارتابل تایید قراردادهای اساتید
  </h5>
</mat-card>
<mat-card *ngIf="commonService.loading==true" class="spinner">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</mat-card>

<br>
<button type="submit" mat-raised-button color="primary" matTooltip="ذخیره " class=" btnSave" aria-hidden="true"
  (click)="saveChanges()"><i class="fa fa-floppy-o" aria-hidden="true"></i> &nbsp;   ذخیره &nbsp;  </button>
<button mat-raised-button color="primary" class=" btnROllBack" aria-hidden="true"
  (click)="contractSignitures()"><i class="fa fa-refresh fa-spin fa-1x fa-fw"></i> بازنشانی </button>
<mat-form-field>
  <input matInput (keyup)="applyFilter($event.target.value)" placeholder="جستجو در لیست اساتید">
</mat-form-field>
<div class="mat-elevation-z8">

  <table matSort class="table table-bordered table-hover" mat-table dir="rtl" [dataSource]="dataSource">


    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> کد استاد </th>
      <td mat-cell *matCellDef="let row"> {{row.code}} </td>
    </ng-container>


    <ng-container matColumnDef="fullName">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> نام و نام خانوادگی </th>
      <td mat-cell *matCellDef="let row">
        <h4> {{row.fullName}}</h4>
      </td>
    </ng-container>

    <ng-container matColumnDef="signiture1" >
      <th mat-header-cell *matHeaderCellDef mat-sort-header> امضای اول </th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox class="example-margin"   (change)="changeSignitures(row)"  [(ngModel)]="row.signiture1" [(indeterminate)]="indeterminate"
          [labelPosition]="labelPosition" [disabled]="sig1">
        </mat-checkbox>
      </td>
    </ng-container>

    <ng-container matColumnDef="signiture2">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> امضای دوم </th>
      
      <td mat-cell *matCellDef="let row">
        <mat-checkbox class="example-margin" (change)="changeSignitures(row)" [(ngModel)]="row.signiture2" [(indeterminate)]="indeterminate"
          [labelPosition]="labelPosition" [disabled]="sig2">
        </mat-checkbox>
      </td>

    </ng-container>

    <ng-container matColumnDef="signiture3">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> امضای سوم </th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox class="example-margin" (change)="changeSignitures(row)" [(ngModel)]="row.signiture3" [(indeterminate)]="indeterminate"
          [labelPosition]="labelPosition" [disabled]="sig3">
        </mat-checkbox>
      </td>

    </ng-container>

    <ng-container matColumnDef="signiture4">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> امضای چهارم </th>
      <td mat-cell *matCellDef="let row">
        <mat-checkbox class="example-margin" (change)="changeSignitures(row)" [(ngModel)]="row.signiture4" [(indeterminate)]="indeterminate"
          [labelPosition]="labelPosition" [disabled]="sig4">
        </mat-checkbox>
      </td>

    </ng-container>


    <ng-container matColumnDef="reasonForRejection">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> دلیل عدم تایید </th>
      <td mat-cell *matCellDef="let row">
        <!-- <textarea  [(ngModel)]="row.reasonForRejection"></textarea> -->
        <textarea (change)="changeSignitures(row)" matInput style=" background-color: #b920351a;" [(ngModel)]="row.reasonForRejection"
          cdkTextareaAutosize #autosize="cdkTextareaAutosize" cdkAutosizeMinRows="1" cdkAutosizeMaxRows="5"></textarea>

      </td>
    </ng-container>



    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;">
    </tr>
  </table>

  <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>



  

</div>